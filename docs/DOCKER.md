# Vault

## Docker Compose

### Running with Docker Compose
```
$ make docker-start
```

After a while, Vault will be accessible at localhost:8000. The initial admin user's credentials are:

- *username*: admin
- *password*: admin

There will also be a non-admin user available. That user's credentials are:

- *username*: user
- *password*: user

The proccess may take several minutes for the first time, as the Keystone, Swift and Vault services apply their initial configurations. Once it's done, future runs will take much less time.

### The structure

A network called **vault_net** will be created, in which four containers will be launched:

1. **vault_db**: a MySQL service used by Vault and Keystone

1. **vault_keystone**: the Keystone service to be managed by Vault

1. **vault_swift**: the Swift service, registered as a service in vault_keystone

1. **vault_app**: the Django application itself

Three volumes are also created:

1. **vol_mysql**: stores two databases, *vaul* and *keystone*, persisting the data of both services even when the container is down;

1. **vol_keystone**: stores Keystone's configuration files and logs;

1. **vol_swift**: stores Swift's nodes, as well as all containers and objects saved;

### Cleaning all generated images
```
$ make docker-clean
```

This will delete all images and volumes generated by `make docker-start`.

**Warning**: Doing this will remove everything created in the local Swift service. It will also take longer to run Vault the next time, as the images will need to be generated again.
